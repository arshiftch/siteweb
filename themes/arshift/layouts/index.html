{{ define "main" }}
<div id="homepage">
  
  <div id="output" style="position:fixed;top:10px;right:10px;border:3px solid green;"></div>
  
  <section id="home">
  <svg version="1.1" viewBox="0 0 138.87 72.733" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" id="logo"><defs><clipPath id="clipPath28"><path d="m0 0h1041v545h-1041z"/></clipPath><clipPath id="clipPath34"><path d="m7.1094 5.8359 1034.4-5.8398v539.65l-1034.4 5.84z"/></clipPath><clipPath id="clipPath54"><path d="m0 0h1041v545h-1041z"/></clipPath><clipPath id="clipPath60"><path d="m7.1094 5.8359 1034.4-5.8398v539.65l-1034.4 5.84z"/></clipPath></defs><g transform="matrix(1.3333 0 0 -1.3333 0 72.733)"><g transform="scale(.1)"><g clip-path="url(#clipPath28)"><g clip-path="url(#clipPath34)"><path d="m931.82 69.352c-3.816-2.7657-6.894-6.3008-9.226-10.586-2.324-4.2968-3.489-9.4922-3.489-15.586 0-3.1055 0.461-6.2617 1.426-9.5117 0.969-3.2149 2.434-6.1328 4.395-8.7617 1.965-2.6172 4.472-4.7344 7.433-6.3555 2.977-1.6211 6.512-2.4141 10.575-2.4141 4.074 0 7.402 0.7617 10.031 2.3164 2.605 1.543 4.859 3.5938 6.719 6.1407 1.843 2.5898 3.367 5.5 4.578 8.7695 1.183 3.2812 2.394 6.6992 3.574 10.273 1.426 4.4063 2.98 8.8399 4.656 13.32 1.672 4.4649 3.84 8.4766 6.535 12.062 2.696 3.5625 6.086 6.4844 10.215 8.7578 4.121 2.2461 9.356 3.3907 15.668 3.3907 6.35 0 11.8-1.211 16.39-3.6328 4.62-2.3946 8.4-5.5586 11.39-9.3946 3-3.8593 5.2-8.2617 6.61-13.234 1.48-4.9493 2.18-9.9297 2.18-14.93 0-3.8399-0.39-7.6758-1.15-11.496-0.79-3.8282-1.97-7.4414-3.5-10.906-1.56-3.4765-3.53-6.7109-5.95-9.6992-2.35-2.9688-5.11-5.5938-8.23-7.8789l-8.24 11.121c4.56 2.7266 8.36 6.5937 11.38 11.555 3.05 4.9297 4.59 10.77 4.59 17.449 0 3.2344-0.53 6.5156-1.54 9.875-1.01 3.3398-2.57 6.3477-4.67 9.043-2.07 2.6953-4.63 4.8906-7.67 6.6211-3.06 1.7382-6.62 2.6054-10.68 2.6054-4.43 0-8.101-0.8672-11.019-2.6054-2.922-1.7305-5.371-4.0235-7.336-6.8946-1.981-2.8828-3.621-6.1445-4.942-9.8633-1.308-3.6835-2.617-7.5585-3.933-11.633-1.309-4.1679-2.805-8.3086-4.485-12.363-1.667-4.0704-3.855-7.7149-6.542-10.918-2.684-3.2422-5.997-5.8399-9.942-7.8008-3.933-1.9727-8.758-2.9492-14.512-2.9492-6.093 0-11.347 1.2188-15.769 3.6524-4.395 2.4609-8.059 5.6524-10.938 9.5899-2.851 3.9453-4.933 8.3203-6.269 13.094-1.309 4.7774-1.953 9.4844-1.953 14.133 0 8.6016 1.504 15.945 4.57 22.039 3.047 6.1055 6.656 10.715 10.828 13.789l8.242-10.184" fill="var(--black)"/></g></g><g fill="var(--black)"><path d="m911.4 126.85v12.878h55.008v69.192h-55.008v12.891h126.84v-12.891h-60.013v-69.192h60.013v-12.878h-126.84"/><path d="m1038.2 273.41h-126.84v12.895h126.84v-12.895"/><path d="m1038.2 350.81v-12.891h-126.85v76.492h11.453v-63.601h43.899v59.128h11.484v-59.128h60.012"/><path d="m1038.2 497.18v-12.891h-115.4v-42.465h-11.453v97.824h11.453v-42.468h115.4"/><path d="m348.16 542.32-348.16-540.57h62.613l88.559 142h276.41l29.016-142h57.269l-112.24 540.57zm14.527-61.09 56.508-287.07h-236.71z"/></g><g clip-path="url(#clipPath54)"><g clip-path="url(#clipPath60)"><path d="m672.62 258.41c19.883 2.027 38.254 6.637 55.09 13.77 16.836 7.156 31.387 16.722 43.613 28.707 12.246 11.984 21.942 26.152 29.082 42.464 7.149 16.336 10.723 34.442 10.723 54.34 0 26.528-4.582 48.969-13.77 67.344-9.191 18.352-22.089 33.277-38.656 44.762-16.59 11.472-36.219 19.769-58.914 24.871-22.703 5.105-47.324 7.644-73.855 7.644h-173l10.632-47.441h156.23c20.418 0 39.043-1.797 55.867-5.363 16.836-3.559 31.113-9.18 42.871-16.832 11.731-7.641 20.91-17.598 27.551-29.825 6.609-12.257 9.941-27.304 9.941-45.16 0-32.148-11.984-56.246-35.976-72.304-23.977-16.09-58.149-24.118-102.53-24.118l-111.44-0.785 10.191-46.488 97.415-0.168 150.01-253.29h67.344l-158.42 257.87" fill="var(--black)"/></g></g></g></g></svg>
  
  <h2 style="font-weight: normal;margin-bottom:0;">Sustainable building</h2>
  
  <nav>
    <ul>
      <li>
        <a href="#about">À&nbsp;propos</a>
      </li>
      <li>
        <a href="#services">Services</a>
      </li>
      <li>
        <a href="#project">Projets</a>
      </li>
      <li>
        <a href="#contact">Contact</a>
      </li>
    </ul>
  </nav>
  
  </section>
  <section id="about">
    {{.Content}}
    
  </section>
  <section id="services">
    <h1>Nos services</h1>
    <h2>Nous proposons un nouveau système de construction en bois massif inspiré des méthodes ancestrales qui permet un démontage et un recyclage en fin de vie des parties ou du bâtiment dans son entier.</h2>
  </section>
  <section id="project">  
  <h1>Nos projets</h1>
  
  <div class="project_list">
  {{ range .Site.Sections }}
    {{ range first 6 .Data.Pages }}
    <a href="{{.Permalink}}">
      <h2>
        {{.Title}}
      </h2>
      {{ if .Params.banner }}
          <img srcset="{{ .Params.banner | relURL }} 480w"
       sizes="(max-width: 800px) 200px,
          400px" src="{{ .Params.banner | relURL }}" alt="{{ .Title }}" class="detail-article-banner" />
      {{ end }}
    </a>

    {{ end }}
  {{ end }}
  </div>
  
  </section>
  <section id="contact">  
  
  <!-- <h2>Contact</h2>
  <br/> -->
  <h2>ARshift Sàrl</h2>
    
  <p>Av. du Rond-Point 7<br/>
  CH — 1006 Lausanne<br/>
  <a href="mailto:info@ARshift.ch">info@ARshift.ch</a></p>
    
  
  </section>
  
  <div class="construction">
    <div class="tenon">
      <span class="face left"></span>
      <span class="face right"></span>  
    </div>
    <div class="sachi" id="sachi_left">
      <!-- <span class="etalon top"></span>
      <span class="etalon left"></span>
      <span class="etalon right"></span> -->
      <span class="face top"></span>
      <span class="face left"></span>
      <span class="face right"></span>
      <span class="teton_group">
        <span class="teton top"></span>
        <span class="teton left"></span>
        <span class="teton right"></span>
      </span>
    </div>
    <div class="sachi" id="sachi_right">
      <span class="face top"></span>
      <span class="face left"></span>
      <span class="face right"></span>
      <span class="teton_group">
        <span class="teton top"></span>
        <span class="teton left"></span>
        <span class="teton right"></span>
      </span>
    </div>
  </div>
  
  
  <script>
    const container = document.querySelector("#homepage");
    
    // debug
    const output = document.querySelector("#output");
    
    var scollingVh = 0;
    var marginRight = 0;
    var slideSpeed = 0.6;
    const marginLeftMax = 51.2;
    const marginRightMax = 68.8;
    // const marginTopMax = 260;
    const marginTopMax = 491;
    // const scenario[
    //   step[
    //     
    //   ]
    // ];
    // 
  
    container.addEventListener("scroll", (event) => {
      
      scollingVh = (container.scrollTop/window.innerHeight)*100;
      
      if(scollingVh*slideSpeed<=marginLeftMax){
        document.documentElement.style.setProperty("--marginLeft", scollingVh*slideSpeed);  
      }else{
        document.documentElement.style.setProperty("--marginLeft", marginLeftMax);    
      }
      if(scollingVh*1.16<=marginTopMax){
        document.documentElement.style.setProperty("--marginTop", scollingVh*1.16);  
      }else{
        document.documentElement.style.setProperty("--marginTop", marginTopMax);    
      }
      
      marginRight = 120+(container.scrollTop/window.innerHeight)*100*-slideSpeed;
      if(marginRight>=marginRightMax){
        document.documentElement.style.setProperty("--marginRight", marginRight);  
      }else{
        document.documentElement.style.setProperty("--marginRight", marginRightMax);    
      }
  
      // debug
        //output.textContent = `scrollTop: ${container.scrollTop/window.innerHeight*100}vX`;
        output.textContent = `scrollTop: ${parseInt(scollingVh)}`;
      // console.log(container.scrollTop);
    });
  </script>
  
  
  
</div>
{{ end }}
