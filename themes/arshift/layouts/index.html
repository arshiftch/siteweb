{{ define "main" }}
<div id="homepage">
  
  <div id="output" style="position:fixed;top:10px;right:10px;border:3px solid green;"></div>
  
  
  <section id="home">
  {{ partial "logo.html" . }}
  
  <h2 style="font-weight: normal;margin-bottom:0;">Sustainable building</h2>
  
  <nav>
    <ul>
      <li>
        <a href="#about">À&nbsp;propos</a>
      </li>
      <li>
        <a href="#services">Services</a>
      </li>
      <li>
        <a href="#project">Projets</a>
      </li>
      <li>
        <a href="#contact">Contact</a>
      </li>
    </ul>
  </nav>
  
  </section>
  <section id="about">
    {{.Content}}
    
  </section>
  <section id="services">
    <h1>Nos services</h1>
    <h2>Nous proposons un nouveau système de construction en bois massif inspiré des méthodes ancestrales qui permet un démontage et un recyclage en fin de vie des parties ou du bâtiment dans son entier.</h2>
  </section>
  <section id="project">  
  <h1>Nos projets</h1>
  {{ partial "projects.html" . }}
  
  
  </section>
  <section id="contact">  
  

  <h2>ARshift Sàrl</h2>
    
  <p>Av. du Rond-Point 7<br/>
  CH — 1006 Lausanne<br/>
  <a href="mailto:info@ARshift.ch">info@ARshift.ch</a></p>
  
  {{ partial "social.html" . }}  
  
  </section>
  
  <div class="construction">
    <div class="tenon">
      <span class="face left"></span>
      <span class="face right"></span>  
    </div>
    <div class="sachi" id="sachi_left">
      <!-- <span class="etalon top"></span>
      <span class="etalon left"></span>
      <span class="etalon right"></span> -->
      <span class="face top"></span>
      <span class="face left"></span>
      <span class="face right"></span>
      <span class="teton_group">
        <span class="teton top"></span>
        <span class="teton left"></span>
        <span class="teton right"></span>
      </span>
    </div>
    <div class="sachi" id="sachi_right">
      <span class="face top"></span>
      <span class="face left"></span>
      <span class="face right"></span>
      <span class="teton_group">
        <span class="teton top"></span>
        <span class="teton left"></span>
        <span class="teton right"></span>
      </span>
    </div>
  </div>
  
  
  <script>
    const container = document.querySelector("#homepage");
    
    // debug
    const output = document.querySelector("#output");
    
    var scollingVh = 0;
    var marginRight = 0;
    var slideSpeed = 0.6;
    const marginLeftMax = 51.2;
    const marginRightMax = 68.8;
    // const marginTopMax = 260;
    const marginTopMax = 491;
    // const scenario[
    //   step[
    //     
    //   ]
    // ];
    // 
  
    container.addEventListener("scroll", (event) => {
      
      scollingVh = (container.scrollTop/window.innerHeight)*100;
      
      if(scollingVh*slideSpeed<=marginLeftMax){
        document.documentElement.style.setProperty("--marginLeft", scollingVh*slideSpeed);  
      }else{
        document.documentElement.style.setProperty("--marginLeft", marginLeftMax);    
      }
      if(scollingVh*1.16<=marginTopMax){
        document.documentElement.style.setProperty("--marginTop", scollingVh*1.16);  
      }else{
        document.documentElement.style.setProperty("--marginTop", marginTopMax);    
      }
      
      marginRight = 120+(container.scrollTop/window.innerHeight)*100*-slideSpeed;
      if(marginRight>=marginRightMax){
        document.documentElement.style.setProperty("--marginRight", marginRight);  
      }else{
        document.documentElement.style.setProperty("--marginRight", marginRightMax);    
      }
  
      // debug
        //output.textContent = `scrollTop: ${container.scrollTop/window.innerHeight*100}vX`;
        output.textContent = `scrollTop: ${parseInt(scollingVh)}`;
      // console.log(container.scrollTop);
    });
  </script>
  
  
  
</div>
{{ end }}
